#!/usr/bin/env bash
set -euo pipefail
IFS=$'\n\t'
PATH=$(npm bin):$PATH

target=./src/components.js
files=$( find src/components -name '*.js' | sort )

echo "// Generated by $0" > $target
for f in $files
do
    base=$( basename "${f%.js}" )
    echo "import $base from './components/$base';" >> $target
done

echo "" >> $target
echo "export default {" >> $target

for f in $files
do
    base=$( basename "${f%.js}" )
    echo "    $base: $base," >> $target
done

echo "};" >> $target
